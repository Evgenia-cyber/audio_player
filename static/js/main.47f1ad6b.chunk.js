(this.webpackJsonpaudio_player=this.webpackJsonpaudio_player||[]).push([[0],{60:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var r=n(2),o=n(0),i=n.n(o),s=n(16),a=n.n(s),c=(n(60),n(93)),u=n(94),l=n(11),g=n(88),h=n(90),p=n(3),j={root:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 10px",cursor:"pointer"},text:{fontSize:20}},d=Object(l.a)((function(t){var e=t.song,n=t.setCurrentSong,o=t.index;return Object(r.jsxs)(g.a,{variant:"outlined",style:j.root,onClick:function(){Object(p.p)((function(){var t={id:e.id,src:e.src,author:e.author,songName:e.songName,duration:e.duration,index:o};n(t)}))},children:[Object(r.jsxs)(h.a,{variant:"subtitle1",gutterBottom:!0,style:j.text,children:[e.author," - ",e.songName]}),Object(r.jsx)(h.a,{variant:"subtitle1",gutterBottom:!0,style:j.text,children:e.durationForDisplay})]})})),f=n(96),S=n(95),b=n(44),m=n.n(b),y={root:{margin:"20px 0",padding:"2px 4px",display:"flex",alignItems:"center"},input:{flex:1,borderBottom:"1px solid #000"},iconButton:{padding:10}},x=function(t){var e=t.updateFilter,n=t.filter,o=t.setInitialPlayer;return Object(r.jsxs)("form",{noValidate:!0,autoComplete:"off",style:y.root,children:[Object(r.jsx)(f.a,{style:y.input,placeholder:"Search...",autoFocus:!0,value:n,onChange:function(t){var n=t.target.value;e(n),o()}}),Object(r.jsx)(S.a,{type:"submit",style:y.iconButton,"aria-label":"search",children:Object(r.jsx)(m.a,{})})]})},O=(n(40),n(23)),C=n(35),v=[{id:0,src:"https://cdn-static.namobilu.com/u/ring/f/737/097/gayazov_brother_ya_ty_i_more.mp3",author:"Gayazov Brother",songName:"\u042f, \u0442\u044b \u0438 \u043c\u043e\u0440\u0435",duration:23},{id:1,src:"https://cdn-static.namobilu.com/u/ring/f/190/103/loboda_moloko.mp3",author:"Loboda",songName:"Moloko",duration:38},{id:2,src:"https://cdn-static.namobilu.com/u/ring/f/452/099/maks_barskix_silence.mp3",author:"Maks Barskih",songName:"Silence",duration:37},{id:3,src:"https://mp3uks.ru/mp3/files/niletto-lyubimka-mp3.mp3",author:"NILETTO",songName:"\u041b\u044e\u0431\u0438\u043c\u043a\u0430",duration:219},{id:4,src:"../assets/audio/shakira.mp3",author:"Shakira",songName:"La tortura",duration:211},{id:5,src:"../assets/audio/whenever.mp3",author:"Shakira",songName:"Whenever",duration:150}];Object(p.h)({enforceActions:"always",computedRequiresReaction:!0,reactionRequiresObservable:!0,observableRequiresReaction:!0});var k=function(){function t(e){var n=this;Object(O.a)(this,t),this.songs=v,this.filter="",this.secondsToTimeDisplay=function(t){var e=Math.floor(t/60),n=Math.floor(t%60);return e<10&&(e="0"+e),n<10&&(n="0"+n),e+":"+n},this.updateFilter=function(t){n.filter=t},Object(p.n)(this,{songs:p.o,filter:p.o,songsWithDurationForDisplay:p.g,filteredSongs:p.g,updateFilter:p.f}),this.rootStore=e}return Object(C.a)(t,[{key:"songsWithDurationForDisplay",get:function(){var t=this;return this.songs.map((function(e){return Object(p.p)((function(){e.durationForDisplay=t.secondsToTimeDisplay(e.duration)})),e}))}},{key:"filteredSongs",get:function(){var t=this,e=function(t,e){return-1!==t.toLocaleLowerCase().indexOf(e)};return this.songsWithDurationForDisplay.filter((function(n){return e(n.author,t.filter)||e(n.songName,t.filter)}))}}]),t}();Object(p.h)({enforceActions:"always",computedRequiresReaction:!0,reactionRequiresObservable:!0,observableRequiresReaction:!0});var P=function(){function t(e){var n=this;Object(O.a)(this,t),this.songs=[],this.currentSong={},this.isAnotherSong=!1,this.isAnotherSongsList=!1,this.isPlaying=!1,this.currentSongDuration=0,this.currentSongCurrentTime=0,this.setInitial=function(){n.songs=n.rootStore.songsStore.filteredSongs,n.songs.forEach((function(t,e){t.index=e})),n.currentSong=n.songs[0],n.isAnotherSongsList=!0,n.isPlaying=!1},this.setCurrentSong=function(t){n.currentSong=t,n.isAnotherSong=!0},this.setIsAnotherSong=function(t){n.isAnotherSong=t},this.setIsAnotherSongsList=function(t){n.isAnotherSongsList=t},this.setIsPlaying=function(t){n.isPlaying=t},this.setNextSong=function(){n.currentSong.index===n.songs.length-1?n.currentSong=n.songs[0]:n.currentSong=n.songs.find((function(t,e){return e===n.currentSong.index+1})),n.isAnotherSong=!0},this.setPrevSong=function(){if(0===n.currentSong.index){var t=n.songs.length;n.currentSong=n.songs[t-1]}else n.currentSong=n.songs.find((function(t,e){return e===n.currentSong.index-1}));n.isAnotherSong=!0},this.setCurrentSongDuration=function(t){n.currentSongDuration=t},this.setCurrentSongCurrentTime=function(t){n.currentSongCurrentTime=t},Object(p.n)(this,{songs:p.o,currentSong:p.o,isAnotherSong:p.o,isAnotherSongsList:p.o,isPlaying:p.o,currentSongDuration:p.o,currentSongCurrentTime:p.o,isLoop:p.g,currentSongDurationForDisplay:p.g,currentSongCurrentTimeForDisplay:p.g,setInitial:p.f,setCurrentSong:p.f,setIsAnotherSong:p.f,setIsAnotherSongsList:p.f,setIsPlaying:p.f,setNextSong:p.f,setPrevSong:p.f,setCurrentSongDuration:p.f,setCurrentSongCurrentTime:p.f}),this.rootStore=e,this.setInitial()}return Object(C.a)(t,[{key:"isLoop",get:function(){return 1===this.songs.length}},{key:"currentSongDurationForDisplay",get:function(){return this.rootStore.songsStore.secondsToTimeDisplay(this.currentSongDuration)}},{key:"currentSongCurrentTimeForDisplay",get:function(){return this.rootStore.songsStore.secondsToTimeDisplay(this.currentSongCurrentTime)}}]),t}(),D=i.a.createContext(),T=function(t){var e=t.children,n=t.store;return Object(r.jsx)(D.Provider,{value:n,children:e})},B=function(){return i.a.useContext(D)},I={text:{fontSize:20}},F=Object(l.a)((function(){var t=B();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(x,{updateFilter:t.songsStore.updateFilter,filter:t.songsStore.filter,setInitialPlayer:t.playerStore.setInitial}),0!==t.songsStore.filteredSongs.length?t.songsStore.filteredSongs.map((function(e,n){return Object(r.jsx)(d,{song:e,setCurrentSong:t.playerStore.setCurrentSong,index:n},e.id)})):Object(r.jsx)(g.a,{variant:"outlined",children:Object(r.jsx)(h.a,{variant:"subtitle1",gutterBottom:!0,align:"center",style:I.text,children:"Unfortunately, your search returned no results..."})})]})})),A=n(30),N=n(91),L=n(97),w=n(45),R=n.n(w),_=Object(l.a)((function(t){var e=t.onPrevBtnClick,n=t.store;return Object(r.jsx)(S.a,{color:"primary","aria-label":"upload picture",component:"span",disabled:n.playerStore.isLoop,onClick:e,children:Object(r.jsx)(R.a,{})})})),E=n(46),V=n.n(E),q=function(t){var e=t.onPlayBtnClick,n=t.isCanPlay;return Object(r.jsx)(S.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:e,disabled:!n,children:Object(r.jsx)(V.a,{})})},M=n(47),W=n.n(M),z=Object(l.a)((function(t){var e=t.onNextBtnClick,n=t.store;return Object(r.jsx)(S.a,{color:"primary","aria-label":"upload picture",component:"span",disabled:n.playerStore.isLoop,onClick:e,children:Object(r.jsx)(W.a,{})})})),J=n(48),U=n.n(J),G=function(t){var e=t.onPauseBtnClick;return Object(r.jsx)(S.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:e,children:Object(r.jsx)(U.a,{})})},H=Object(l.a)((function(t){var e=t.onPlayBtnClick,n=t.isCanPlay,o=t.onPauseBtnClick,i=t.onNextBtnClick,s=t.onPrevBtnClick,a=t.store;return Object(r.jsxs)(N.a,{item:!0,children:[Object(r.jsx)(_,{onPrevBtnClick:s,store:a}),a.playerStore.isPlaying?Object(r.jsx)(G,{onPauseBtnClick:o}):Object(r.jsx)(q,{onPlayBtnClick:e,isCanPlay:n}),Object(r.jsx)(z,{onNextBtnClick:i,store:a})]})})),K=n(50),Q=n.n(K),X=n(49),Y=n.n(X),Z=function(t){var e=t.toggleVisibleOnClick,n=t.volume;return Object(r.jsx)(N.a,{item:!0,children:Object(r.jsx)(S.a,{onClick:e,color:"primary","aria-label":"upload picture",component:"span",children:0===n?Object(r.jsx)(Y.a,{}):Object(r.jsx)(Q.a,{})})})},$=function(t){var e=t.handleVolumeChange,n=t.volume;return Object(r.jsx)(N.a,{item:!0,xs:3,children:Object(r.jsx)(L.a,{value:n,onChange:e,"aria-labelledby":"continuous-slider",min:0,max:100,step:1})})},tt=function(t){var e=t.handleVolumeChange,n=t.volume,o=i.a.useState(!1),s=Object(A.a)(o,2),a=s[0],c=s[1];return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(Z,{toggleVisibleOnClick:function(){c((function(t){return!t}))},volume:n}),a&&Object(r.jsx)($,{handleVolumeChange:e,volume:n})]})},et=n(92),nt={root:{flexBasis:"100%"}},rt=Object(l.a)((function(t){var e=t.store,n=Object(et.a)("(max-width:470px)");return Object(r.jsxs)(N.a,{item:!0,style:n?nt.root:{},children:[Object(r.jsx)("span",{children:e.playerStore.currentSongCurrentTimeForDisplay}),Object(r.jsx)("span",{children:"/"}),Object(r.jsx)("span",{children:e.playerStore.currentSongDurationForDisplay})]})})),ot=Object(l.a)((function(){var t=B(),e=i.a.createRef(),n=i.a.useState(!1),o=Object(A.a)(n,2),s=o[0],a=o[1],c=i.a.useState(50),u=Object(A.a)(c,2),l=u[0],g=u[1];i.a.useEffect((function(){e.current.volume=l/100}),[e,l]),i.a.useEffect((function(){Object(p.p)((function(){t.playerStore.isAnotherSong&&(e.current.load(),e.current.play().catch((function(t){console.log(t)})),t.playerStore.setIsPlaying(!0),t.playerStore.setIsAnotherSong(!1))}))}),[t.playerStore,e]),i.a.useEffect((function(){Object(p.p)((function(){t.playerStore.isAnotherSongsList&&(e.current.load(),t.playerStore.setIsAnotherSongsList(!1))}))}),[t.playerStore,e]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(h.a,{variant:"h5",gutterBottom:!0,children:[t.playerStore.currentSong.author," -"," ",t.playerStore.currentSong.songName]}),Object(r.jsxs)("audio",{ref:e,loop:t.playerStore.isLoop,onCanPlayThrough:function(){a(!0)},onLoadedMetadata:function(){t.playerStore.setCurrentSongDuration(e.current.duration)},onTimeUpdate:function(){t.playerStore.setCurrentSongCurrentTime(e.current.currentTime)},onError:function(t){console.error("handleOnError in <audio/> in Player.jsx"),console.log(t),alert("This song is not available! Select another song.")},onEnded:function(){t.playerStore.setNextSong()},children:[Object(r.jsx)("source",{src:t.playerStore.currentSong.src,type:"audio/mpeg"}),Object(r.jsx)("p",{children:"\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0430\u0443\u0434\u0438\u043e\u0437\u0430\u043f\u0438\u0441\u044c."})]}),Object(r.jsx)(L.a,{value:t.playerStore.currentSongCurrentTime,onChange:function(n,r){t.playerStore.setCurrentSongCurrentTime(r),e.current.currentTime=r},"aria-labelledby":"continuous-slider",min:0,max:t.playerStore.currentSongDuration,step:.01}),Object(r.jsxs)(N.a,{container:!0,spacing:1,alignItems:"center",alignContent:"flex-start",children:[Object(r.jsx)(H,{onPlayBtnClick:function(){e.current.play().catch((function(t){console.log(t)})),Object(p.p)((function(){t.playerStore.setIsPlaying(!0)}))},isCanPlay:s,onPauseBtnClick:function(){e.current.pause(),Object(p.p)((function(){t.playerStore.setIsPlaying(!1)}))},onNextBtnClick:function(){Object(p.p)((function(){t.playerStore.setNextSong()}))},onPrevBtnClick:function(){Object(p.p)((function(){t.playerStore.setPrevSong()}))},store:t}),Object(r.jsx)(tt,{handleVolumeChange:function(t,e){g(e)},volume:l}),Object(r.jsx)(rt,{store:t})]})]})})),it={container:{marginTop:50}};var st=Object(l.a)((function(){var t=B();return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(c.a,{}),Object(r.jsxs)(u.a,{component:"main",maxWidth:"sm",style:it.container,children:[0!==t.playerStore.songs.length&&Object(r.jsx)(ot,{}),Object(r.jsx)(F,{})]})]})})),at=new function t(){Object(O.a)(this,t),this.songsStore=new k(this),this.playerStore=new P(this)};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(T,{store:at,children:Object(r.jsx)(st,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.47f1ad6b.chunk.js.map